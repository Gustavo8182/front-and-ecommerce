<div class="container-fluid bg-light min-vh-100 p-4">

  <div *ngIf="isLoading" class="text-center mt-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Carregando...</span>
    </div>
  </div>

  <div *ngIf="!isLoading && !store" class="d-flex justify-content-center align-items-center" style="height: 80vh;">
    <div class="card shadow-lg border-0 p-5" style="max-width: 600px; width: 100%;">
      <div class="text-center mb-4">
        <i class="bi bi-shop display-1 text-primary"></i>
        <h2 class="mt-3">Torne-se um Vendedor!</h2>
        <p class="text-muted">Configure sua loja para começar a vender hoje mesmo.</p>
      </div>

      <form [formGroup]="formStore" (ngSubmit)="onSubmitSetup()">
        <div class="mb-3">
          <label class="form-label fw-bold">Nome da Loja</label>
          <input type="text" class="form-control form-control-lg" formControlName="name" placeholder="Ex: Tech Store do Gustavo">
        </div>

        <div class="mb-3">
          <label class="form-label">Descrição (Bio)</label>
          <textarea class="form-control" formControlName="description" rows="3" placeholder="O que você vende?"></textarea>
        </div>

        <div class="mb-3">
          <label class="form-label">CNPJ (Opcional)</label>
          <input type="text" class="form-control" formControlName="cnpj" placeholder="00.000.000/0001-00">
        </div>

        <button type="submit" class="btn btn-primary w-100 btn-lg mt-3" [disabled]="formStore.invalid || isCreating">
          <span *ngIf="isCreating" class="spinner-border spinner-border-sm me-2"></span>
          ABRIR MINHA LOJA
        </button>
      </form>
    </div>
  </div>

  <div *ngIf="!isLoading && store">

    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h2 class="fw-bold text-dark mb-0">{{ store.name }}</h2>
        <small class="text-muted">Central do Vendedor • ID: {{ store.id }}</small>
      </div>
      <button class="btn btn-outline-secondary">
        <i class="bi bi-gear-fill me-1"></i> Configurações
      </button>
    </div>

    <div class="row g-4 mb-5">
      <div class="col-md-4">
        <div class="card border-0 shadow-sm h-100 stat-card">
          <div class="card-body d-flex align-items-center">
            <div class="icon-box bg-success-subtle text-success me-3">
              <i class="bi bi-currency-dollar fs-3"></i>
            </div>
            <div>
              <h6 class="text-muted mb-1">Faturamento (Mês)</h6>
              <h3 class="fw-bold mb-0">R$ 0,00</h3>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card border-0 shadow-sm h-100 stat-card">
          <div class="card-body d-flex align-items-center">
            <div class="icon-box bg-warning-subtle text-warning me-3">
              <i class="bi bi-box-seam fs-3"></i>
            </div>
            <div>
              <h6 class="text-muted mb-1">Pedidos Pendentes</h6>
              <h3 class="fw-bold mb-0">0</h3>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card border-0 shadow-sm h-100 stat-card">
          <div class="card-body d-flex align-items-center">
            <div class="icon-box bg-info-subtle text-info me-3">
              <i class="bi bi-people fs-3"></i>
            </div>
            <div>
              <h6 class="text-muted mb-1">Visitantes</h6>
              <h3 class="fw-bold mb-0">0</h3>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card border-0 shadow-sm">
      <div class="card-header bg-white py-3">
        <h5 class="mb-0 fw-bold">Gerenciamento</h5>
      </div>
      <div class="card-body p-4">
        <div class="row text-center">
          <div class="col-6 col-md-3 mb-3">
            <div class="action-btn p-3 rounded border hover-effect">
              <i class="bi bi-plus-circle-fill text-primary fs-1 d-block mb-2"></i>
              <strong>Novo Produto</strong>
            </div>
          </div>
          <div class="col-6 col-md-3 mb-3">
            <div class="action-btn p-3 rounded border hover-effect">
              <i class="bi bi-list-ul text-dark fs-1 d-block mb-2"></i>
              <strong>Meus Produtos</strong>
            </div>
          </div>
          <div class="col-6 col-md-3 mb-3">
            <div class="action-btn p-3 rounded border hover-effect">
              <i class="bi bi-receipt text-success fs-1 d-block mb-2"></i>
              <strong>Pedidos</strong>
            </div>
          </div>
          <div class="col-6 col-md-3 mb-3">
            <div class="action-btn p-3 rounded border hover-effect">
              <i class="bi bi-megaphone text-danger fs-1 d-block mb-2"></i>
              <strong>Marketing</strong>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
