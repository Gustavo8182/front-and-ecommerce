<div class="container mt-5">

  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Carregando...</span>
    </div>
  </div>

  <div *ngIf="product" class="row">

    <div class="col-md-6 mb-4 d-flex justify-content-center align-items-center bg-white rounded shadow-sm p-3">
        <img [src]="product.imageUrl"
             [alt]="product.name"
             (error)="product.imageUrl = ''"
             class="img-fluid"
             style="max-height: 400px; object-fit: contain;">

        <i *ngIf="!product.imageUrl" class="bi bi-box-seam display-1 text-secondary"></i>
    </div>

    <div class="col-md-6">
      <h1 class="fw-bold">{{ product.name }}</h1>
      <p class="text-muted mb-4">Código: {{ product.id }}</p>

      <h2 class="text-success fw-bold display-5 mb-3">
        {{ product.price | currency:'BRL' }}
      </h2>

      <div class="card bg-light border-0 mb-4">
        <div class="card-body">
          <h5 class="card-title"><i class="bi bi-info-circle"></i> Descrição</h5>
          <p class="card-text">{{ product.description }}</p>
        </div>
      </div>

      <p class="mb-4">
        <span class="badge bg-success me-2"><i class="bi bi-truck"></i> Frete Grátis</span>
        <span class="badge bg-info text-dark"><i class="bi bi-shield-check"></i> Compra Garantida</span>
      </p>

      <div class="d-grid gap-2">
        <button class="btn btn-primary btn-lg" (click)="addToCart()">
          <i class="bi bi-cart-plus"></i> Adicionar ao Carrinho
        </button>
        <a routerLink="/" class="btn btn-outline-secondary">Continuar Comprando</a>
      </div>
    </div>

  </div>

  <div *ngIf="!isLoading && !product" class="alert alert-danger text-center">
    Produto não encontrado. <a routerLink="/">Voltar</a>
  </div>

</div>
