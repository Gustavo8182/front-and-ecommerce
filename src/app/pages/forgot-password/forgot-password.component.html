<div class="container d-flex justify-content-center align-items-center vh-100 fade-in">
  <div class="card shadow p-4 border-0" style="max-width: 400px; width: 100%;">

    <div class="text-center mb-4">
      <i class="bi bi-shield-lock text-primary" style="font-size: 3rem;"></i>
      <h3 class="fw-bold mt-2">Recuperar Senha</h3>
    </div>

    <div *ngIf="step === 1">
      <p class="text-muted text-center mb-4">Digite seu e-mail para receber o código de verificação.</p>

      <div class="mb-3">
        <label class="form-label">E-mail</label>
        <input type="email" class="form-control" [(ngModel)]="email" placeholder="seu@email.com">
      </div>

      <button class="btn btn-primary w-100 py-2" (click)="requestRecovery()" [disabled]="isLoading">
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
        Enviar Código
      </button>
    </div>

    <div *ngIf="step === 2">
      <p class="text-success text-center mb-4 small">
        <i class="bi bi-check-circle-fill me-1"></i> Código enviado! Verifique seu console (dev) ou e-mail.
      </p>

      <div class="mb-3">
        <label class="form-label">Código de 6 dígitos</label>
        <input type="text" class="form-control text-center fw-bold letter-spacing" [(ngModel)]="code" placeholder="000000" maxlength="6">
      </div>

      <div class="mb-3">
        <label class="form-label">Nova Senha</label>
        <input type="password" class="form-control" [(ngModel)]="newPassword" placeholder="******">
      </div>

      <button class="btn btn-success w-100 py-2" (click)="resetPassword()" [disabled]="isLoading">
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
        Alterar Senha
      </button>
    </div>

    <div class="text-center mt-3">
      <a routerLink="/login" class="text-decoration-none text-muted small">Voltar para o Login</a>
    </div>

  </div>
</div>
